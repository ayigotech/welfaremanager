<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/member"></ion-back-button>
        </ion-buttons>
        <ion-title>Upcoming Events</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="events-content">
    <!-- Upcoming Events Section -->
    <div class="events-section">
        <h2 class="section-title">Upcoming Events</h2>

        <div *ngIf="upcomingEvents.length > 0; else noUpcomingEvents" class="events-list">
            <div class="event-card" *ngFor="let event of upcomingEvents">
                <div class="event-header">
                    <div class="event-date">
                        <span class="date-day">{{event.event_date | date:'d'}}</span>
                        <span class="date-month">{{event.event_date | date:'MMM'}}</span>
                    </div>
                    <div class="event-status upcoming">Upcoming</div>
                </div>
                <div class="event-content">
                    <h3 class="event-title">{{event.event_type_display}}</h3>
                    <p class="event-description">{{event.description}}</p>
                    <div class="event-meta">
                        <div class="meta-item">
                            <ion-icon name="wallet-outline"></ion-icon>
                            <span>â‚µ{{ event.levy_amount | number:'1.2-2' }}</span>
                        </div>
                        <div class="meta-item">
                            <ion-icon name="location-outline"></ion-icon>
                            <span>{{event.venue}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <ng-template #noUpcomingEvents>
            <div class="empty-state">
                <ion-icon name="calendar-outline" class="empty-icon"></ion-icon>
                <h3>No Upcoming Events</h3>
                <p>Check back later for new church events</p>
            </div>
        </ng-template>
    </div>

    <!-- Recent Past Events -->
    <div class="events-section">
        <h2 class="section-title">Recent Events</h2>

        <div class="events-list">
            <div class="event-card past" *ngFor="let event of pastEvents">
                <div class="event-header">
                    <div class="event-date past">
                        <span class="date-day">{{event.event_date | date:'d'}}</span>
                        <span class="date-month">{{event.event_date | date:'MMM'}}</span>
                    </div>
                    <div class="event-status past">Completed</div>
                </div>
                <div class="event-content">
                    <h3 class="event-title">{{event.event_type_display}}</h3>
                    <p class="event-description">{{event.member.full_name}}</p>
                    <div class="event-meta">
                        <div class="meta-item">
                            <ion-icon name="cash-outline"></ion-icon>
                            <span>â‚µ{{ event.levy_amount | number:'1.2-2' }}</span>
                        </div>
                        <div class="meta-item">
                            <ion-icon name="location-outline"></ion-icon>
                            <span>{{event.venue}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ion-content>